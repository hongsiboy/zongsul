SHAP(SHapley Additive exPlanations)는 게임이론(shapley value)에 기반한 기법이다.
머신러닝 모델 예측 결과를 직관적으로 설명하며 각 특징(특성)이 예측에 얼마나 기여했는지를 계산하여 시각적으로 보여줌
XAI(설명 가능한 인공지능)의 기법 중 하나임. 

Shapley value는 협력 게임에서 각 플레이어(여기서는 feature) 가 전체 보상에 얼마나 기여했는지를 공정하게 분배하는 방법이다.
*기본 원리
여러 플레이어가 협력하여 이익을 창출하고 그 이익을 각 플레이어의 기여도에 따라 분배
각 플레이어가 게임에 참여함으로써 추가적으로 기여하는 이익(시너지)을 측정
각 플레이어의 기여도를 모든 가능한 순열에 대해 계산한 후, 평균값을 구하여 공정하게 분배


**SHAP
Shapley value값을 머신러닝의 모델 예측 설명에 적용하여 각 특성(feature)이 예측결과에 어떻게 기여하는지를 계산
샤플리 값 이론의 플레이어 = 머신러닝에서 모델의 특성
사플리 값 이론의 이익 = 모델의 예측값
--> 각 특성이 예측값에 얼마나 기여했는지를 모든 가능한 특성 조합에 대해 계산한 후 평균값 계산


각 특성은 어떤 예측값을 만드는 데 얼마나 기여했는지를 기준선에서의 차이로 나타냄
기준선 = 모델이 아무 정보도 모를 때 (=모든 특성의 평균값만 가진 상태)의 예측값
SHAP값 = 특정 feature가 예측값을 baseline에서 얼마나 끌어올리거나 낮췄는지 나타냄

> 0 : 해당 feature가 예측값을 끌어올림
= 0 : 해당 feature는 해당 샘플에서 영향 없음
< 0 : 해당 feature가 예측값을 낮춤




But, SHAP은 상관 관계 기반 설명 도구이기 때문에, 어떤 feature가 예측값에 영향을 보였다고 말할 수는 있지만, 그 feature가 결과의 직접적인 원인이라고 단정할 수 없음. 
(인과관계라고 해석하면 안됨)
